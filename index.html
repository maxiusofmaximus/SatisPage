<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Calculadora de Producción de Hierro</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
      padding-top: 50px;
    }
    .chat-box {
      background: #fff;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .response {
      margin-top: 20px;
      white-space: pre-line;
      font-family: "Segoe UI", sans-serif;
    }
  </style>
</head>
<body>
<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8 chat-box">
      <h2 class="mb-4 text-center">🛠️ Calculadora de Hierro</h2>
      <form id="ironForm">
        <div class="mb-3">
          <label for="lingotes" class="form-label">Cantidad de lingotes de metal</label>
          <input type="number" class="form-control" id="lingotes" min="1" required>
        </div>
        <button type="submit" class="btn btn-primary w-100">Calcular Producción</button>
      </form>
      <div class="response mt-4" id="output"></div>
    </div>
  </div>
</div>

<script>
document.getElementById("ironForm").addEventListener("submit", function(event) {
  event.preventDefault();
  const lingotes = parseInt(document.getElementById("lingotes").value);
  if (isNaN(lingotes) || lingotes <= 0) return;

  let maxPlanchas = 0;
  let maxBarras = 0;
  let maxTornillos = 0;
  let planchasReforzadas = 0;
  let planchasProducidas = 0;
  let tornillosProducidos = 0;
  let mejorDistribucion = { x: 0, y: 0 };

  for (let x = 0; x <= lingotes; x++) {
    let y = lingotes - x;
    let planchas = (2 / 3) * x;
    let barras = y;
    let tornillos = Math.floor(barras / 10) * 40;
    let posiblesPlanchasReforzadas = Math.min(Math.floor(planchas / 30), Math.floor(tornillos / 60));
    if (posiblesPlanchasReforzadas > planchasReforzadas) {
      planchasReforzadas = posiblesPlanchasReforzadas;
      maxPlanchas = Math.floor(planchas);
      maxBarras = barras;
      maxTornillos = tornillos;
      planchasProducidas = planchas;
      tornillosProducidos = tornillos;
      mejorDistribucion = { x, y };
    }
  }

  const output = `
🤖 ¡Hola! Con ${lingotes} lingotes de metal, este es el mejor uso posible:

🔧 Usamos ${mejorDistribucion.x} lingotes para producir planchas de metal.
   ➤ Como 30 lingotes hacen 20 planchas, eso da ${(2/3) * mejorDistribucion.x} planchas de metal.

🔩 Usamos ${mejorDistribucion.y} lingotes para hacer barras de hierro.
   ➤ Como 1 lingote da 1 barra, obtenemos ${mejorDistribucion.y} barras.
   ➤ Cada 10 barras producen 40 tornillos, por lo tanto tenemos ${maxTornillos} tornillos.

🏗️ Ahora combinamos:
   ➤ Cada plancha reforzada necesita 30 planchas y 60 tornillos.
   ➤ Podemos hacer ${planchasReforzadas} planchas de hierro reforzadas.

🧾 Resumen final:
- 🔹 Planchas de metal: ${Math.floor(planchasProducidas)}
- 🔹 Barras de hierro: ${maxBarras}
- 🔹 Tornillos: ${maxTornillos}
- 🔹 Planchas de hierro reforzadas: ${planchasReforzadas}

¡Eso es todo! Espero que esta explicación te haya sido clara. 🙂
  `;

  document.getElementById("output").innerText = output;
});
</script>

</body>
</html>
